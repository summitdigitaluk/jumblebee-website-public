"use strict";(()=>{var u=(s,e,o)=>{let a=o||{rootMargin:"0px 0px 0px 0px",threshold:0};if("IntersectionObserver"in window){let t=new IntersectionObserver(i=>{i.forEach(r=>{r.isIntersecting&&(typeof e=="function"&&e(r.target),t.unobserve(r.target))})},a),c=document.querySelectorAll(s);c.length>0&&[...c].forEach(i=>{t.observe(i)})}},h=(s,e)=>{let o=$($(s).find("template").eq(0).html());$(s).append(o),Webflow.require("lottie").init();let a=e||"lottie-loaded";$(o).addClass(a)},w=s=>typeof s=="object"&&!Array.isArray(s)&&s!==null,S=s=>new Promise((e,o)=>{if(document.querySelector(`link[href="${s}"]`)){e();return}fetch(s).then(t=>t.json()).then(t=>{e(t)}).catch(t=>o(new Error(`Error loading ${s}: ${t.message}`)))});var b=()=>{let s=o=>{console.log(o),document.getElementById("stats-bids-made").innerHTML=Math.floor(Number(o.total_bids_made)).toLocaleString("en-US"),document.getElementById("stats-raised-to-date").innerHTML="\xA3"+Math.floor(o.total_fund_raised).toLocaleString("en-US"),document.getElementById("stats-tickets-sold").innerHTML=Math.floor(Number(o.tickets_sold)).toLocaleString("en-US"),document.querySelectorAll(".stats_value").forEach(t=>{let r=[.../(\D+)?(\d+)(\D+)?(\d+)(\D+)?(\d+)(\D+)?(\d+)?(\D+)?/.exec(t.textContent)],m=!0,g;for(r.shift(),r=r.filter(n=>n!=null);t.firstChild;)t.removeChild(t.firstChild);for(let n of r)if(isNaN(n))t.insertAdjacentHTML("beforeend",`<span>${n}</span>`);else for(let l=0;l<n.length;l++)t.insertAdjacentHTML("beforeend",`<span data-value="${n[l]}">
                    <span>&ndash;</span>
                    ${Array(parseInt(n[l])+1).join(0).split(0).map((f,p)=>`
                      <span>${p}</span>
                    `).join("")}
                  </span>`);g=[...t.querySelectorAll("span[data-value]")];let d=()=>{let{top:n}=t.getBoundingClientRect(),l=window.innerHeight*.8;setTimeout(()=>{m=!1},1e3),n<l&&(setTimeout(()=>{for(let f of g){let p=parseInt(f.getAttribute("data-value"))+1;f.style.transform=`translateY(-${p*100}%)`}},m?1e3:0),window.removeEventListener("scroll",d))};window.addEventListener("scroll",d),d()})},e;localStorage.getItem("stats")&&typeof localStorage.getItem("stats")<"u"&&w(JSON.parse(localStorage.getItem("stats")))===!0&&Date.now()-new Date(JSON.parse(localStorage.getItem("stats")).lastUpdated).getTime()<24*60*60*1e3?(e=JSON.parse(localStorage.getItem("stats")),console.log("stats from local",e),s(e)):S("https://www.jumblebee.co.uk/api/auctionStats_rpvTfjHnFNF2rbWxb1jaZCAj8GGT21Nl").then(o=>{e=o,console.log("stats from jumblebee",e),e.lastUpdated=Date.now(),localStorage.setItem("stats",JSON.stringify(e)),s(e)}).catch(o=>{console.error(o)})};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{u('[s-lazy-load="lottie"]',h),u("#stats",b,{rootMargin:"-250% 0px 0px 0px",threshold:0})});})();
