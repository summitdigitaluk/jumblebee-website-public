"use strict";(()=>{var c=(e,t)=>{if("IntersectionObserver"in window){let o=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting&&(typeof t=="function"&&t(r.target),o.unobserve(r.target))})}),a=document.querySelectorAll(e);a.length>0&&[...a].forEach(n=>{o.observe(n)})}},u=e=>{let t=e.getElementsByTagName("template")[0].content.cloneNode(!0);e.appendChild(t),Webflow.require("lottie").lottie.loadAnimation(t),Webflow.require("lottie").init()},d=e=>typeof e=="object"&&!Array.isArray(e)&&e!==null,m=e=>new Promise((t,o)=>{if(document.querySelector(`link[href="${e}"]`)){t();return}fetch(e).then(n=>n.json()).then(n=>{t(n)}).catch(n=>o(new Error(`Error loading ${e}: ${n.message}`)))});var b=()=>{let e=o=>{console.log(o),document.getElementById("stats-bids-made").innerHTML=o.total_bids_made,document.getElementById("stats-raised-to-date").innerHTML=o.total_fund_raised,document.getElementById("stats-tickets-sold").innerHTML=o.tickets_sold;let a=4e3,n=1e3/60,r=Math.round(a/n),f=s=>s*(2-s),g=s=>{let i=0,p=parseInt(s.innerHTML,10),w=setInterval(()=>{i++;let S=f(i/r),l=Math.round(p*S);parseInt(s.innerHTML,10)!==l&&(s.innerHTML=s.id==="stats-raised-to-date"?"&pound"+l.toLocaleString():l.toLocaleString()),i===r&&clearInterval(w)},n)};(()=>{document.querySelectorAll(".stats_value").forEach(g)})()},t;localStorage.getItem("stats")&&typeof localStorage.getItem("stats")<"u"&&d(JSON.parse(localStorage.getItem("stats")))===!0&&Date.now()-new Date(JSON.parse(localStorage.getItem("stats")).lastUpdated).getTime()<24*60*60*1e3?(t=JSON.parse(localStorage.getItem("stats")),console.log("stats from local",t),e(t)):m("https://www.jumblebee.co.uk/api/auctionStats_rpvTfjHnFNF2rbWxb1jaZCAj8GGT21Nl").then(o=>{t=o,console.log("stats from jumblebee",t),t.lastUpdated=Date.now(),localStorage.setItem("stats",JSON.stringify(t)),e(t)}).catch(o=>{console.error(o)})};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{c('[s-lazy-load="lottie"]',u),c("#stats",b)});})();
