"use strict";(()=>{var u=(s,t)=>{if("IntersectionObserver"in window){let o=new IntersectionObserver(e=>{e.forEach(a=>{a.isIntersecting&&(typeof t=="function"&&t(a.target),o.unobserve(a.target))})}),r=document.querySelectorAll(s);r.length>0&&[...r].forEach(e=>{o.observe(e)})}},g=(s,t)=>{let o=$($(s).find("template").eq(0).html());$(s).append(o),Webflow.require("lottie").init();let r=t||"lottie-loaded";$(o).addClass(r)},h=s=>typeof s=="object"&&!Array.isArray(s)&&s!==null,w=s=>new Promise((t,o)=>{if(document.querySelector(`link[href="${s}"]`)){t();return}fetch(s).then(e=>e.json()).then(e=>{t(e)}).catch(e=>o(new Error(`Error loading ${s}: ${e.message}`)))});var S=()=>{let s=o=>{console.log(o),document.getElementById("stats-bids-made").innerHTML=Math.floor(Number(o.total_bids_made)).toLocaleString("en-US"),document.getElementById("stats-raised-to-date").innerHTML="\xA3"+Math.floor(o.total_fund_raised).toLocaleString("en-US"),document.getElementById("stats-tickets-sold").innerHTML=Math.floor(Number(o.tickets_sold)).toLocaleString("en-US"),document.querySelectorAll(".stats_value").forEach(e=>{let i=[.../(\D+)?(\d+)(\D+)?(\d+)(\D+)?(\d+)(\D+)?(\d+)?(\D+)?/.exec(e.textContent)],m=!0,p;for(i.shift(),i=i.filter(n=>n!=null);e.firstChild;)e.removeChild(e.firstChild);for(let n of i)if(isNaN(n))e.insertAdjacentHTML("beforeend",`<span>${n}</span>`);else for(let l=0;l<n.length;l++)e.insertAdjacentHTML("beforeend",`<span data-value="${n[l]}">
                    <span>&ndash;</span>
                    ${Array(parseInt(n[l])+1).join(0).split(0).map((d,f)=>`
                      <span>${f}</span>
                    `).join("")}
                  </span>`);p=[...e.querySelectorAll("span[data-value]")];let c=()=>{let{top:n}=e.getBoundingClientRect(),l=window.innerHeight*.8;setTimeout(()=>{m=!1},1e3),n<l&&(setTimeout(()=>{for(let d of p){let f=parseInt(d.getAttribute("data-value"))+1;d.style.transform=`translateY(-${f*100}%)`}},m?1e3:0),window.removeEventListener("scroll",c))};window.addEventListener("scroll",c),c()})},t;localStorage.getItem("stats")&&typeof localStorage.getItem("stats")<"u"&&h(JSON.parse(localStorage.getItem("stats")))===!0&&Date.now()-new Date(JSON.parse(localStorage.getItem("stats")).lastUpdated).getTime()<24*60*60*1e3?(t=JSON.parse(localStorage.getItem("stats")),console.log("stats from local",t),s(t)):w("https://www.jumblebee.co.uk/api/auctionStats_rpvTfjHnFNF2rbWxb1jaZCAj8GGT21Nl").then(o=>{t=o,console.log("stats from jumblebee",t),t.lastUpdated=Date.now(),localStorage.setItem("stats",JSON.stringify(t)),s(t)}).catch(o=>{console.error(o)})};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{u('[s-lazy-load="lottie"]',g),u("#stats",S)});})();
